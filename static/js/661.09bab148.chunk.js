"use strict";(self.webpackChunkfresh_math_app=self.webpackChunkfresh_math_app||[]).push([[661],{4471:(e,t,a)=>{a.d(t,{A:()=>s});const s=[{$id:"number-systems",name:"Number Systems",slug:"number-systems",$collectionId:"topics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[],subtopics:[{$id:"ns-1",name:"Natural numbers, integers, primes, etc.",slug:"natural-numbers",topicId:"number-systems",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"ns-2",name:"Standard Form",slug:"standard-form",topicId:"number-systems",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"ns-3",name:"Common factors, HCF, LCM",slug:"common-factors",topicId:"number-systems",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"ns-4",name:"Four operations and brackets",slug:"four-operations",topicId:"number-systems",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"ns-5",name:"Surds and rationalization",slug:"surds",topicId:"number-systems",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"ns-6",name:"Decimals, fractions and percentages",slug:"decimals-fractions",topicId:"number-systems",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]}]},{$id:"algebraic-manipulation",name:"Algebraic Manipulation",slug:"algebraic-manipulation",$collectionId:"topics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[],subtopics:[{$id:"am-1",name:"Rules for exponents, Indices",slug:"exponents-indices",topicId:"algebraic-manipulation",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"am-2",name:"Expansion of brackets",slug:"expansion-brackets",topicId:"algebraic-manipulation",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"am-3",name:"Factorisation techniques",slug:"factorisation",topicId:"algebraic-manipulation",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]}]},{$id:"mensuration",name:"Mensuration",slug:"mensuration",$collectionId:"topics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[],subtopics:[{$id:"mns-1",name:"Units of Measurement",slug:"units-measurement",topicId:"mensuration",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"mns-2",name:"Perimeter and area of shapes",slug:"perimeter-area",topicId:"mensuration",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"mns-3",name:"Circle properties",slug:"circle-properties",topicId:"mensuration",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]}]},{$id:"linear-patterns",name:"Linear Patterns and Models",slug:"linear-patterns",$collectionId:"topics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[],subtopics:[{$id:"lpm-1",name:"Linear equations",slug:"linear-equations",topicId:"linear-patterns",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"lpm-2",name:"Inequalities",slug:"inequalities",topicId:"linear-patterns",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"lpm-3",name:"Linear functions",slug:"linear-functions",topicId:"linear-patterns",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"lpm-4",name:"Simultaneous equations",slug:"simultaneous-equations",topicId:"linear-patterns",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]}]},{$id:"angles",name:"Angles",slug:"angles",$collectionId:"topics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[],subtopics:[{$id:"ang-1",name:"Geometric terms and vocabulary",slug:"geometric-terms",topicId:"angles",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"ang-2",name:"Measuring and drawing angles",slug:"measuring-angles",topicId:"angles",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"ang-3",name:"Angle relationships",slug:"angle-relationships",topicId:"angles",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"ang-4",name:"Pythagoras Theorem",slug:"pythagoras-theorem",topicId:"angles",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]}]},{$id:"trigonometry",name:"Trigonometry",slug:"trigonometry",$collectionId:"topics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[],subtopics:[{$id:"trig-1",name:"Right-angled Trigonometry",slug:"right-angled-trigonometry",topicId:"trigonometry",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"trig-2",name:"Angles of elevation and depression",slug:"angles-elevation-depression",topicId:"trigonometry",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"trig-3",name:"Periodic Functions",slug:"periodic-functions",topicId:"trigonometry",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]}]}]},6661:(e,t,a)=>{a.r(t),a.d(t,{SubtopicPage:()=>d,default:()=>l});var s=a(5043),o=a(3216),i=a(5475),n=a(8765),r=a(579);const c=e=>{let{subtopicId:t}=e;const[a,o]=(0,s.useState)([]),[i,c]=(0,s.useState)(!0),[d,l]=(0,s.useState)(null);(0,s.useEffect)((()=>{(async()=>{if(!t)return l("Invalid subtopic ID"),void c(!1);try{c(!0);const e=await n.k.getResourcesBySubtopic(t);o(e),l(null)}catch(e){console.error("Error fetching resources:",e),l("Failed to load resources. Please try again later.")}finally{c(!1)}})()}),[t]);const u=async e=>{try{if(e.fileId){const t=n.k.getFileView(e.fileId);window.open(t,"_blank")}}catch(t){console.error("Error accessing resource:",t),l("Failed to access resource. Please try again later.")}};if(i)return(0,r.jsx)("div",{className:"flex justify-center items-center h-48",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(d)return(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded",children:d});if(0===a.length)return(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-gray-600",children:"No resources available for this subtopic yet."})});const p=a.filter((e=>"question"===e.resourceType)),b=a.filter((e=>"answer"===e.resourceType)),m=a.filter((e=>"reference"===e.resourceType)),g=a.filter((e=>"video"===e.resourceType));return(0,r.jsxs)("div",{className:"space-y-8",children:[p.length>0&&(0,r.jsxs)("section",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Questions"}),(0,r.jsx)("div",{className:"space-y-4",children:p.map((e=>(0,r.jsx)("button",{onClick:()=>u(e),className:"w-full text-left p-4 bg-white rounded-lg shadow border border-gray-200 hover:border-blue-500 transition-colors",children:e.title},e.$id)))})]}),b.length>0&&(0,r.jsxs)("section",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Answers"}),(0,r.jsx)("div",{className:"space-y-4",children:b.map((e=>(0,r.jsx)("button",{onClick:()=>u(e),className:"w-full text-left p-4 bg-white rounded-lg shadow border border-gray-200 hover:border-blue-500 transition-colors",children:e.title},e.$id)))})]}),m.length>0&&(0,r.jsxs)("section",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"References"}),(0,r.jsx)("div",{className:"space-y-4",children:m.map((e=>(0,r.jsx)("button",{onClick:()=>u(e),className:"w-full text-left p-4 bg-white rounded-lg shadow border border-gray-200 hover:border-blue-500 transition-colors",children:e.title},e.$id)))})]}),g.length>0&&(0,r.jsxs)("section",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Videos"}),(0,r.jsx)("div",{className:"space-y-4",children:g.map((e=>(0,r.jsx)("button",{onClick:()=>u(e),className:"w-full text-left p-4 bg-white rounded-lg shadow border border-gray-200 hover:border-blue-500 transition-colors",children:e.title},e.$id)))})]})]})},d=()=>{const{topicId:e,subtopicId:t}=(0,o.g)(),[a,d]=(0,s.useState)(null),[l,u]=(0,s.useState)(null),[p,b]=(0,s.useState)(!0),[m,g]=(0,s.useState)(null);return(0,s.useEffect)((()=>{(async()=>{if(!e||!t)return g("Invalid topic or subtopic ID"),void b(!1);try{b(!0);const[a,s]=await Promise.all([n.k.getTopic(e),n.k.getSubtopic(t)]);if(!a||!s)return void g("Topic or subtopic not found");u(a),d(s),g(null)}catch(a){console.error("Error fetching data:",a),g("Failed to load content. Please try again later.")}finally{b(!1)}})()}),[e,t]),p?(0,r.jsx)("div",{className:"flex justify-center items-center h-48",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):m?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded mb-6",children:m}),(0,r.jsx)(i.N_,{to:"/topics",className:"text-blue-500 hover:text-blue-600 font-medium",children:"Return to Topics"})]}):l&&a?(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(i.N_,{to:`/topics/${l.$id}/subtopics`,className:"text-blue-500 hover:text-blue-600 font-medium",children:["\u2190 Back to ",l.name]}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:a.name})]}),(0,r.jsx)(c,{subtopicId:a.$id})]}):(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Content not found"}),(0,r.jsx)(i.N_,{to:"/topics",className:"text-blue-500 hover:text-blue-600 font-medium",children:"Return to Topics"})]})},l=d},8765:(e,t,a)=>{a.d(t,{k:()=>u});var s=a(5460);const o={endpoint:"https://cloud.appwrite.io/v1",projectId:"67eff58c0026f452ff3d",databaseId:"67f158d4000cb981963",bucketId:"67f03c12001381e227aa",topicsCollectionId:"67f158f50030e9e503ea",subtopicsCollectionId:"67f159150030e9e503eb",resourcesCollectionId:"67f159550030e9e503e9"},i=(new s.Kj).setEndpoint(o.endpoint).setProject(o.projectId),n=(new s.Lv(i),new s.wc(i),o);var r=a(4471);const c=(new s.Kj).setEndpoint(n.endpoint).setProject(n.projectId),d=new s.Lv(c),l=new s.wc(c),u={async getTopics(){try{return(await d.listDocuments(n.databaseId,n.topicsCollectionId)).documents}catch(e){throw console.error("Error fetching topics:",e),e}},async getTopic(e){try{return await d.getDocument(n.databaseId,n.topicsCollectionId,e)}catch(t){throw console.error("Error fetching topic:",t),t}},async createTopic(e){try{return await d.createDocument(n.databaseId,n.topicsCollectionId,s.ID.unique(),e)}catch(t){throw console.error("Error creating topic:",t),t}},async getSubtopicsByTopic(e){try{return(await d.listDocuments(n.databaseId,n.subtopicsCollectionId,[s.XK.equal("topicId",e)])).documents}catch(t){throw console.error("Error fetching subtopics:",t),t}},async getSubtopic(e){try{return await d.getDocument(n.databaseId,n.subtopicsCollectionId,e)}catch(t){throw console.error("Error fetching subtopic:",t),t}},async createSubtopic(e){try{return await d.createDocument(n.databaseId,n.subtopicsCollectionId,s.ID.unique(),e)}catch(t){throw console.error("Error creating subtopic:",t),t}},async getResourcesBySubtopic(e){try{return(await d.listDocuments(n.databaseId,n.resourcesCollectionId,[s.XK.equal("subtopicId",e)])).documents}catch(t){throw console.error("Error fetching resources:",t),t}},async createResource(e){try{return await d.createDocument(n.databaseId,n.resourcesCollectionId,s.ID.unique(),e)}catch(t){throw console.error("Error creating resource:",t),t}},async uploadFile(e){try{return(await l.createFile(n.bucketId,s.ID.unique(),e)).$id}catch(t){throw console.error("Error uploading file:",t),t}},async deleteFile(e){try{await l.deleteFile(n.bucketId,e)}catch(t){throw console.error("Error deleting file:",t),t}},getFileView:e=>l.getFileView(n.bucketId,e).toString(),async migrateContent(){try{return await async function(){const e={topics:0,subtopics:0,resources:0,failed:0};try{for(const a of r.A)try{if(await u.createTopic({name:a.name,slug:a.slug}),e.topics++,a.subtopics)for(const s of a.subtopics)try{await u.createSubtopic({name:s.name,slug:s.slug,topicId:a.$id}),e.subtopics++}catch(t){console.error(`Failed to create subtopic ${s.name}:`,t),e.failed++}}catch(t){console.error(`Failed to create topic ${a.name}:`,t),e.failed++}return{success:!0,message:"Migration completed successfully",stats:e}}catch(t){return console.error("Migration failed:",t),{success:!1,message:t instanceof Error?t.message:"Migration failed",stats:e}}}()}catch(e){return console.error("Migration failed:",e),{success:!1,message:e instanceof Error?e.message:"Migration failed",stats:{topics:0,subtopics:0,resources:0,failed:1}}}}}}}]);
//# sourceMappingURL=661.09bab148.chunk.js.map