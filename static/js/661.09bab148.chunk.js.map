{"version":3,"file":"static/js/661.09bab148.chunk.js","mappings":"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","sources":["data/topics.ts","components/ResourceDisplay.tsx","pages/SubtopicPage.tsx","config/appwrite.ts","utils/appwriteMigration.ts","services/appwriteService.ts"],"sourcesContent":["import { Models } from 'appwrite';\n\nexport interface Topic extends Models.Document {\n    name: string;\n    slug: string;\n    subtopics?: Subtopic[];\n}\n\nexport interface Subtopic extends Models.Document {\n    $collectionId: string;\n    $databaseId: string;\n    $createdAt: string;\n    $updatedAt: string;\n    $permissions: string[];\n    name: string;\n    slug: string;\n    topicId: string;\n}\n\nconst topics: Topic[] = [\n    {\n        $id: 'number-systems',\n        name: 'Number Systems',\n        slug: 'number-systems',\n        $collectionId: 'topics',\n        $databaseId: 'database',\n        $createdAt: new Date().toISOString(),\n        $updatedAt: new Date().toISOString(),\n        $permissions: [],\n        subtopics: [\n            {\n                $id: 'ns-1',\n                name: 'Natural numbers, integers, primes, etc.',\n                slug: 'natural-numbers',\n                topicId: 'number-systems',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            },\n            {\n                $id: 'ns-2',\n                name: 'Standard Form',\n                slug: 'standard-form',\n                topicId: 'number-systems',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            },\n            {\n                $id: 'ns-3',\n                name: 'Common factors, HCF, LCM',\n                slug: 'common-factors',\n                topicId: 'number-systems',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            },\n            {\n                $id: 'ns-4',\n                name: 'Four operations and brackets',\n                slug: 'four-operations',\n                topicId: 'number-systems',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            },\n            {\n                $id: 'ns-5',\n                name: 'Surds and rationalization',\n                slug: 'surds',\n                topicId: 'number-systems',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            },\n            {\n                $id: 'ns-6',\n                name: 'Decimals, fractions and percentages',\n                slug: 'decimals-fractions',\n                topicId: 'number-systems',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            }\n        ]\n    },\n    {\n        $id: 'algebraic-manipulation',\n        name: 'Algebraic Manipulation',\n        slug: 'algebraic-manipulation',\n        $collectionId: 'topics',\n        $databaseId: 'database',\n        $createdAt: new Date().toISOString(),\n        $updatedAt: new Date().toISOString(),\n        $permissions: [],\n        subtopics: [\n            {\n                $id: 'am-1',\n                name: 'Rules for exponents, Indices',\n                slug: 'exponents-indices',\n                topicId: 'algebraic-manipulation',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            },\n            {\n                $id: 'am-2',\n                name: 'Expansion of brackets',\n                slug: 'expansion-brackets',\n                topicId: 'algebraic-manipulation',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            },\n            {\n                $id: 'am-3',\n                name: 'Factorisation techniques',\n                slug: 'factorisation',\n                topicId: 'algebraic-manipulation',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            }\n        ]\n    },\n    {\n        $id: 'mensuration',\n        name: 'Mensuration',\n        slug: 'mensuration',\n        $collectionId: 'topics',\n        $databaseId: 'database',\n        $createdAt: new Date().toISOString(),\n        $updatedAt: new Date().toISOString(),\n        $permissions: [],\n        subtopics: [\n            {\n                $id: 'mns-1',\n                name: 'Units of Measurement',\n                slug: 'units-measurement',\n                topicId: 'mensuration',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            },\n            {\n                $id: 'mns-2',\n                name: 'Perimeter and area of shapes',\n                slug: 'perimeter-area',\n                topicId: 'mensuration',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            },\n            {\n                $id: 'mns-3',\n                name: 'Circle properties',\n                slug: 'circle-properties',\n                topicId: 'mensuration',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            }\n        ]\n    },\n    {\n        $id: 'linear-patterns',\n        name: 'Linear Patterns and Models',\n        slug: 'linear-patterns',\n        $collectionId: 'topics',\n        $databaseId: 'database',\n        $createdAt: new Date().toISOString(),\n        $updatedAt: new Date().toISOString(),\n        $permissions: [],\n        subtopics: [\n            {\n                $id: 'lpm-1',\n                name: 'Linear equations',\n                slug: 'linear-equations',\n                topicId: 'linear-patterns',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            },\n            {\n                $id: 'lpm-2',\n                name: 'Inequalities',\n                slug: 'inequalities',\n                topicId: 'linear-patterns',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            },\n            {\n                $id: 'lpm-3',\n                name: 'Linear functions',\n                slug: 'linear-functions',\n                topicId: 'linear-patterns',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            },\n            {\n                $id: 'lpm-4',\n                name: 'Simultaneous equations',\n                slug: 'simultaneous-equations',\n                topicId: 'linear-patterns',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            }\n        ]\n    },\n    {\n        $id: 'angles',\n        name: 'Angles',\n        slug: 'angles',\n        $collectionId: 'topics',\n        $databaseId: 'database',\n        $createdAt: new Date().toISOString(),\n        $updatedAt: new Date().toISOString(),\n        $permissions: [],\n        subtopics: [\n            {\n                $id: 'ang-1',\n                name: 'Geometric terms and vocabulary',\n                slug: 'geometric-terms',\n                topicId: 'angles',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            },\n            {\n                $id: 'ang-2',\n                name: 'Measuring and drawing angles',\n                slug: 'measuring-angles',\n                topicId: 'angles',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            },\n            {\n                $id: 'ang-3',\n                name: 'Angle relationships',\n                slug: 'angle-relationships',\n                topicId: 'angles',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            },\n            {\n                $id: 'ang-4',\n                name: 'Pythagoras Theorem',\n                slug: 'pythagoras-theorem',\n                topicId: 'angles',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            }\n        ]\n    },\n    {\n        $id: 'trigonometry',\n        name: 'Trigonometry',\n        slug: 'trigonometry',\n        $collectionId: 'topics',\n        $databaseId: 'database',\n        $createdAt: new Date().toISOString(),\n        $updatedAt: new Date().toISOString(),\n        $permissions: [],\n        subtopics: [\n            {\n                $id: 'trig-1',\n                name: 'Right-angled Trigonometry',\n                slug: 'right-angled-trigonometry',\n                topicId: 'trigonometry',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            },\n            {\n                $id: 'trig-2',\n                name: 'Angles of elevation and depression',\n                slug: 'angles-elevation-depression',\n                topicId: 'trigonometry',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            },\n            {\n                $id: 'trig-3',\n                name: 'Periodic Functions',\n                slug: 'periodic-functions',\n                topicId: 'trigonometry',\n                $collectionId: 'subtopics',\n                $databaseId: 'database',\n                $createdAt: new Date().toISOString(),\n                $updatedAt: new Date().toISOString(),\n                $permissions: []\n            }\n        ]\n    }\n];\n\nexport default topics;\n","import React, { useEffect, useState } from 'react';\r\nimport { Models } from 'appwrite';\r\nimport { AppwriteService } from '../services/appwriteService';\r\n\r\ninterface Resource extends Models.Document {\r\n    title: string;\r\n    fileId: string;\r\n    subtopicId: string;\r\n    resourceType: 'question' | 'answer' | 'reference' | 'video';\r\n}\r\n\r\ninterface ResourceDisplayProps {\r\n    subtopicId: string;\r\n}\r\n\r\nexport const ResourceDisplay: React.FC<ResourceDisplayProps> = ({ subtopicId }) => {\r\n    const [resources, setResources] = useState<Resource[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        const fetchResources = async () => {\r\n            if (!subtopicId) {\r\n                setError('Invalid subtopic ID');\r\n                setLoading(false);\r\n                return;\r\n            }\r\n\r\n            try {\r\n                setLoading(true);\r\n                const fetchedResources = await AppwriteService.getResourcesBySubtopic(subtopicId);\r\n                setResources(fetchedResources);\r\n                setError(null);\r\n            } catch (err) {\r\n                console.error('Error fetching resources:', err);\r\n                setError('Failed to load resources. Please try again later.');\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchResources();\r\n    }, [subtopicId]);\r\n\r\n    const handleResourceClick = async (resource: Resource) => {\r\n        try {\r\n            if (resource.fileId) {\r\n                const fileUrl = AppwriteService.getFileView(resource.fileId);\r\n                window.open(fileUrl, '_blank');\r\n            }\r\n        } catch (err) {\r\n            console.error('Error accessing resource:', err);\r\n            setError('Failed to access resource. Please try again later.');\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex justify-center items-center h-48\">\r\n                <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <div className=\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded\">\r\n                {error}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (resources.length === 0) {\r\n        return (\r\n            <div className=\"text-center py-12\">\r\n                <p className=\"text-gray-600\">No resources available for this subtopic yet.</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const questions = resources.filter(r => r.resourceType === 'question');\r\n    const answers = resources.filter(r => r.resourceType === 'answer');\r\n    const references = resources.filter(r => r.resourceType === 'reference');\r\n    const videos = resources.filter(r => r.resourceType === 'video');\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            {questions.length > 0 && (\r\n                <section>\r\n                    <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Questions</h2>\r\n                    <div className=\"space-y-4\">\r\n                        {questions.map(resource => (\r\n                            <button\r\n                                key={resource.$id}\r\n                                onClick={() => handleResourceClick(resource)}\r\n                                className=\"w-full text-left p-4 bg-white rounded-lg shadow border border-gray-200 hover:border-blue-500 transition-colors\"\r\n                            >\r\n                                {resource.title}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </section>\r\n            )}\r\n\r\n            {answers.length > 0 && (\r\n                <section>\r\n                    <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Answers</h2>\r\n                    <div className=\"space-y-4\">\r\n                        {answers.map(resource => (\r\n                            <button\r\n                                key={resource.$id}\r\n                                onClick={() => handleResourceClick(resource)}\r\n                                className=\"w-full text-left p-4 bg-white rounded-lg shadow border border-gray-200 hover:border-blue-500 transition-colors\"\r\n                            >\r\n                                {resource.title}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </section>\r\n            )}\r\n\r\n            {references.length > 0 && (\r\n                <section>\r\n                    <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">References</h2>\r\n                    <div className=\"space-y-4\">\r\n                        {references.map(resource => (\r\n                            <button\r\n                                key={resource.$id}\r\n                                onClick={() => handleResourceClick(resource)}\r\n                                className=\"w-full text-left p-4 bg-white rounded-lg shadow border border-gray-200 hover:border-blue-500 transition-colors\"\r\n                            >\r\n                                {resource.title}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </section>\r\n            )}\r\n\r\n            {videos.length > 0 && (\r\n                <section>\r\n                    <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Videos</h2>\r\n                    <div className=\"space-y-4\">\r\n                        {videos.map(resource => (\r\n                            <button\r\n                                key={resource.$id}\r\n                                onClick={() => handleResourceClick(resource)}\r\n                                className=\"w-full text-left p-4 bg-white rounded-lg shadow border border-gray-200 hover:border-blue-500 transition-colors\"\r\n                            >\r\n                                {resource.title}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </section>\r\n            )}\r\n        </div>\r\n    );\r\n}; ","import React, { useEffect, useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { Models } from 'appwrite';\nimport { AppwriteService } from '../services/appwriteService';\nimport { ResourceDisplay } from '../components/ResourceDisplay';\n\ninterface Topic extends Models.Document {\n    name: string;\n    slug: string;\n}\n\ninterface Subtopic extends Models.Document {\n    name: string;\n    slug: string;\n    topicId: string;\n}\n\nexport const SubtopicPage: React.FC = () => {\n    const { topicId, subtopicId } = useParams<{ topicId: string; subtopicId: string }>();\n    const [subtopic, setSubtopic] = useState<Subtopic | null>(null);\n    const [topic, setTopic] = useState<Topic | null>(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n\n    useEffect(() => {\n        const fetchData = async () => {\n            if (!topicId || !subtopicId) {\n                setError('Invalid topic or subtopic ID');\n                setLoading(false);\n                return;\n            }\n\n            try {\n                setLoading(true);\n                const [fetchedTopic, fetchedSubtopic] = await Promise.all([\n                    AppwriteService.getTopic(topicId),\n                    AppwriteService.getSubtopic(subtopicId)\n                ]);\n\n                if (!fetchedTopic || !fetchedSubtopic) {\n                    setError('Topic or subtopic not found');\n                    return;\n                }\n\n                setTopic(fetchedTopic);\n                setSubtopic(fetchedSubtopic);\n                setError(null);\n            } catch (err) {\n                console.error('Error fetching data:', err);\n                setError('Failed to load content. Please try again later.');\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        fetchData();\n    }, [topicId, subtopicId]);\n\n    if (loading) {\n        return (\n            <div className=\"flex justify-center items-center h-48\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div className=\"text-center py-12\">\n                <div className=\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded mb-6\">\n                    {error}\n                </div>\n                <Link\n                    to=\"/topics\"\n                    className=\"text-blue-500 hover:text-blue-600 font-medium\"\n                >\n                    Return to Topics\n                </Link>\n            </div>\n        );\n    }\n\n    if (!topic || !subtopic) {\n        return (\n            <div className=\"text-center py-12\">\n                <p className=\"text-gray-600 mb-4\">Content not found</p>\n                <Link\n                    to=\"/topics\"\n                    className=\"text-blue-500 hover:text-blue-600 font-medium\"\n                >\n                    Return to Topics\n                </Link>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"space-y-8\">\n            <div className=\"space-y-2\">\n                <Link\n                    to={`/topics/${topic.$id}/subtopics`}\n                    className=\"text-blue-500 hover:text-blue-600 font-medium\"\n                >\n                    ← Back to {topic.name}\n                </Link>\n                <h1 className=\"text-3xl font-bold text-gray-900\">{subtopic.name}</h1>\n            </div>\n\n            <ResourceDisplay subtopicId={subtopic.$id} />\n        </div>\n    );\n};\n\nexport default SubtopicPage;\n","import { Client, Databases, Storage, ID } from 'appwrite';\r\n\r\n// Environment validation\r\nconst REQUIRED_ENV_VARS = {\r\n    ENDPOINT: 'https://cloud.appwrite.io/v1',\r\n    PROJECT_ID: '67eff58c0026f452ff3d'\r\n} as const;\r\n\r\n// Type definitions\r\nexport type DatabaseId = typeof DATABASE_IDS[keyof typeof DATABASE_IDS];\r\nexport type BucketId = typeof BUCKET_IDS[keyof typeof BUCKET_IDS];\r\nexport type CollectionId = typeof COLLECTION_IDS[keyof typeof COLLECTION_IDS];\r\n\r\n// Database IDs with descriptions\r\nexport const DATABASE_IDS = {\r\n    MATH_REVISION: '67f158d4000cb981963', // Main database for math content\r\n    ALGEBRATICA: 'algebraticamentede-db'   // Legacy database\r\n} as const;\r\n\r\n// Bucket IDs with descriptions\r\nexport const BUCKET_IDS = {\r\n    MATH_PDFS: '67f03c12001381e227aa',    // Storage for PDF files\r\n    MATH_VIDEOS: '67f03c7600242f02fd1a',   // Storage for video content\r\n    MATH_EXTERNAL: '67f03c7600242f02fd1a'  // Storage for external resources\r\n} as const;\r\n\r\n// Collection IDs with descriptions\r\nexport const COLLECTION_IDS = {\r\n    TOPICS: '67f158f50030e9e503ea',        // Main topics collection\r\n    SUBTOPICS: '67f159150030e9e503eb',     // Subtopics collection\r\n    RESOURCES: '67f159550030e9e503e9',      // Resources collection\r\n    PDFS: '67f159550030e9e503e9'           // Alias for resources collection\r\n} as const;\r\n\r\n// Configuration interface\r\ninterface AppwriteConfig {\r\n    readonly endpoint: string;\r\n    readonly projectId: string;\r\n    readonly databaseId: DatabaseId;\r\n    readonly bucketId: BucketId;\r\n    readonly topicsCollectionId: CollectionId;\r\n    readonly subtopicsCollectionId: CollectionId;\r\n    readonly resourcesCollectionId: CollectionId;\r\n}\r\n\r\n// Main configuration object\r\nconst config: AppwriteConfig = {\r\n    endpoint: REQUIRED_ENV_VARS.ENDPOINT,\r\n    projectId: REQUIRED_ENV_VARS.PROJECT_ID,\r\n    databaseId: DATABASE_IDS.MATH_REVISION,\r\n    bucketId: BUCKET_IDS.MATH_PDFS,\r\n    topicsCollectionId: COLLECTION_IDS.TOPICS,\r\n    subtopicsCollectionId: COLLECTION_IDS.SUBTOPICS,\r\n    resourcesCollectionId: COLLECTION_IDS.RESOURCES\r\n} as const;\r\n\r\n// Initialize Appwrite client\r\nconst client = new Client()\r\n    .setEndpoint(config.endpoint)\r\n    .setProject(config.projectId);\r\n\r\n// Export initialized services\r\nexport const databases = new Databases(client);\r\nexport const storage = new Storage(client);\r\n\r\n// Helper functions\r\nexport const getFilePreviewUrl = (fileId: string): string => {\r\n    return storage.getFilePreview(config.bucketId, fileId).toString();\r\n};\r\n\r\nexport const getFileViewUrl = (fileId: string): string => {\r\n    return storage.getFileView(config.bucketId, fileId).toString();\r\n};\r\n\r\nexport const generateUniqueId = (): string => {\r\n    return ID.unique();\r\n};\r\n\r\nexport default config; ","import { AppwriteService } from '../services/appwriteService';\r\nimport topics from '../data/topics';\r\n\r\ninterface MigrationTopic {\r\n    name: string;\r\n    slug: string;\r\n    subtopics: MigrationSubtopic[];\r\n}\r\n\r\ninterface MigrationSubtopic {\r\n    name: string;\r\n    slug: string;\r\n    resources: MigrationResource[];\r\n}\r\n\r\ninterface MigrationResource {\r\n    title: string;\r\n    fileId: string;\r\n    resourceType: 'question' | 'answer' | 'reference' | 'video';\r\n}\r\n\r\nexport interface MigrationResult {\r\n    success: boolean;\r\n    message: string;\r\n    stats: {\r\n        topics: number;\r\n        subtopics: number;\r\n        resources: number;\r\n        failed: number;\r\n    };\r\n}\r\n\r\nexport async function migrateTopics(): Promise<MigrationResult> {\r\n    const stats = {\r\n        topics: 0,\r\n        subtopics: 0,\r\n        resources: 0,\r\n        failed: 0\r\n    };\r\n\r\n    try {\r\n        // Migrate topics and their subtopics\r\n        for (const topic of topics) {\r\n            try {\r\n                // Create topic\r\n                await AppwriteService.createTopic({\r\n                    name: topic.name,\r\n                    slug: topic.slug\r\n                });\r\n                stats.topics++;\r\n\r\n                // Create subtopics for this topic\r\n                if (topic.subtopics) {\r\n                    for (const subtopic of topic.subtopics) {\r\n                        try {\r\n                            await AppwriteService.createSubtopic({\r\n                                name: subtopic.name,\r\n                                slug: subtopic.slug,\r\n                                topicId: topic.$id\r\n                            });\r\n                            stats.subtopics++;\r\n                        } catch (error) {\r\n                            console.error(`Failed to create subtopic ${subtopic.name}:`, error);\r\n                            stats.failed++;\r\n                        }\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.error(`Failed to create topic ${topic.name}:`, error);\r\n                stats.failed++;\r\n            }\r\n        }\r\n\r\n        return {\r\n            success: true,\r\n            message: 'Migration completed successfully',\r\n            stats\r\n        };\r\n    } catch (error) {\r\n        console.error('Migration failed:', error);\r\n        return {\r\n            success: false,\r\n            message: error instanceof Error ? error.message : 'Migration failed',\r\n            stats\r\n        };\r\n    }\r\n}\r\n\r\nexport const migrateContent = async (): Promise<MigrationResult> => {\r\n    const migratedCount = {\r\n        topics: 0,\r\n        subtopics: 0,\r\n        resources: 0\r\n    };\r\n\r\n    try {\r\n        const topics: MigrationTopic[] = []; // Replace with your actual data source\r\n\r\n        for (const topic of topics) {\r\n            try {\r\n                const topicDoc = await AppwriteService.createTopic({\r\n                    name: topic.name,\r\n                    slug: topic.slug\r\n                });\r\n\r\n                migratedCount.topics++;\r\n\r\n                for (const subtopic of topic.subtopics) {\r\n                    try {\r\n                        const subtopicDoc = await AppwriteService.createSubtopic({\r\n                            name: subtopic.name,\r\n                            slug: subtopic.slug,\r\n                            topicId: topicDoc.$id\r\n                        });\r\n\r\n                        migratedCount.subtopics++;\r\n\r\n                        for (const resource of subtopic.resources) {\r\n                            try {\r\n                                await AppwriteService.createResource({\r\n                                    title: resource.title,\r\n                                    fileId: resource.fileId,\r\n                                    subtopicId: subtopicDoc.$id,\r\n                                    resourceType: resource.resourceType\r\n                                });\r\n\r\n                                migratedCount.resources++;\r\n                            } catch (error) {\r\n                                console.error(`Failed to migrate resource ${resource.title}:`, error);\r\n                            }\r\n                        }\r\n                    } catch (error) {\r\n                        console.error(`Failed to migrate subtopic ${subtopic.name}:`, error);\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.error(`Failed to migrate topic ${topic.name}:`, error);\r\n            }\r\n        }\r\n\r\n        return {\r\n            success: true,\r\n            message: `Migration completed successfully. Migrated ${migratedCount.topics} topics, ${migratedCount.subtopics} subtopics, and ${migratedCount.resources} resources.`,\r\n            stats: {\r\n                topics: migratedCount.topics,\r\n                subtopics: migratedCount.subtopics,\r\n                resources: migratedCount.resources,\r\n                failed: 0\r\n            }\r\n        };\r\n    } catch (error) {\r\n        return {\r\n            success: false,\r\n            message: `Migration failed: ${error instanceof Error ? error.message : 'Unknown error occurred'}`,\r\n            stats: {\r\n                topics: 0,\r\n                subtopics: 0,\r\n                resources: 0,\r\n                failed: 1\r\n            }\r\n        };\r\n    }\r\n}; ","import { Client, Databases, Storage, ID, Models, Query } from 'appwrite';\r\nimport config from '../config/appwrite';\r\nimport { MigrationResult, migrateTopics } from '../utils/appwriteMigration';\r\n\r\nconst client = new Client()\r\n    .setEndpoint(config.endpoint)\r\n    .setProject(config.projectId);\r\n\r\nconst databases = new Databases(client);\r\nconst storage = new Storage(client);\r\n\r\ninterface Topic extends Models.Document {\r\n    name: string;\r\n    slug: string;\r\n}\r\n\r\ninterface Subtopic extends Models.Document {\r\n    name: string;\r\n    slug: string;\r\n    topicId: string;\r\n}\r\n\r\ninterface Resource extends Models.Document {\r\n    title: string;\r\n    fileId: string;\r\n    subtopicId: string;\r\n    resourceType: 'question' | 'answer' | 'reference' | 'video';\r\n}\r\n\r\nexport const AppwriteService = {\r\n    async getTopics(): Promise<Topic[]> {\r\n        try {\r\n            const response = await databases.listDocuments(\r\n                config.databaseId,\r\n                config.topicsCollectionId\r\n            );\r\n            return response.documents as Topic[];\r\n        } catch (err) {\r\n            console.error('Error fetching topics:', err);\r\n            throw err;\r\n        }\r\n    },\r\n\r\n    async getTopic(topicId: string): Promise<Topic> {\r\n        try {\r\n            const response = await databases.getDocument(\r\n                config.databaseId,\r\n                config.topicsCollectionId,\r\n                topicId\r\n            );\r\n            return response as Topic;\r\n        } catch (err) {\r\n            console.error('Error fetching topic:', err);\r\n            throw err;\r\n        }\r\n    },\r\n\r\n    async createTopic(data: { name: string; slug: string }): Promise<Topic> {\r\n        try {\r\n            const response = await databases.createDocument(\r\n                config.databaseId,\r\n                config.topicsCollectionId,\r\n                ID.unique(),\r\n                data\r\n            );\r\n            return response as Topic;\r\n        } catch (err) {\r\n            console.error('Error creating topic:', err);\r\n            throw err;\r\n        }\r\n    },\r\n\r\n    async getSubtopicsByTopic(topicId: string): Promise<Subtopic[]> {\r\n        try {\r\n            const response = await databases.listDocuments(\r\n                config.databaseId,\r\n                config.subtopicsCollectionId,\r\n                [Query.equal('topicId', topicId)]\r\n            );\r\n            return response.documents as Subtopic[];\r\n        } catch (err) {\r\n            console.error('Error fetching subtopics:', err);\r\n            throw err;\r\n        }\r\n    },\r\n\r\n    async getSubtopic(subtopicId: string): Promise<Subtopic> {\r\n        try {\r\n            const response = await databases.getDocument(\r\n                config.databaseId,\r\n                config.subtopicsCollectionId,\r\n                subtopicId\r\n            );\r\n            return response as Subtopic;\r\n        } catch (err) {\r\n            console.error('Error fetching subtopic:', err);\r\n            throw err;\r\n        }\r\n    },\r\n\r\n    async createSubtopic(data: { name: string; slug: string; topicId: string }): Promise<Subtopic> {\r\n        try {\r\n            const response = await databases.createDocument(\r\n                config.databaseId,\r\n                config.subtopicsCollectionId,\r\n                ID.unique(),\r\n                data\r\n            );\r\n            return response as Subtopic;\r\n        } catch (err) {\r\n            console.error('Error creating subtopic:', err);\r\n            throw err;\r\n        }\r\n    },\r\n\r\n    async getResourcesBySubtopic(subtopicId: string): Promise<Resource[]> {\r\n        try {\r\n            const response = await databases.listDocuments(\r\n                config.databaseId,\r\n                config.resourcesCollectionId,\r\n                [Query.equal('subtopicId', subtopicId)]\r\n            );\r\n            return response.documents as Resource[];\r\n        } catch (err) {\r\n            console.error('Error fetching resources:', err);\r\n            throw err;\r\n        }\r\n    },\r\n\r\n    async createResource(data: {\r\n        title: string;\r\n        subtopicId: string;\r\n        resourceType: Resource['resourceType'];\r\n        fileId: string;\r\n    }): Promise<Resource> {\r\n        try {\r\n            const response = await databases.createDocument(\r\n                config.databaseId,\r\n                config.resourcesCollectionId,\r\n                ID.unique(),\r\n                data\r\n            );\r\n            return response as Resource;\r\n        } catch (err) {\r\n            console.error('Error creating resource:', err);\r\n            throw err;\r\n        }\r\n    },\r\n\r\n    async uploadFile(file: File): Promise<string> {\r\n        try {\r\n            const response = await storage.createFile(\r\n                config.bucketId,\r\n                ID.unique(),\r\n                file\r\n            );\r\n            return response.$id;\r\n        } catch (err) {\r\n            console.error('Error uploading file:', err);\r\n            throw err;\r\n        }\r\n    },\r\n\r\n    async deleteFile(fileId: string): Promise<void> {\r\n        try {\r\n            await storage.deleteFile(config.bucketId, fileId);\r\n        } catch (err) {\r\n            console.error('Error deleting file:', err);\r\n            throw err;\r\n        }\r\n    },\r\n\r\n    getFileView(fileId: string): string {\r\n        return storage.getFileView(config.bucketId, fileId).toString();\r\n    },\r\n\r\n    async migrateContent(): Promise<MigrationResult> {\r\n        try {\r\n            return await migrateTopics();\r\n        } catch (error) {\r\n            console.error('Migration failed:', error);\r\n            return {\r\n                success: false,\r\n                message: error instanceof Error ? error.message : 'Migration failed',\r\n                stats: {\r\n                    topics: 0,\r\n                    subtopics: 0,\r\n                    resources: 0,\r\n                    failed: 1\r\n                }\r\n            };\r\n        }\r\n    }\r\n};\r\n\r\nexport default AppwriteService; "],"names":["$id","name","slug","$collectionId","$databaseId","$createdAt","Date","toISOString","$updatedAt","$permissions","subtopics","topicId","ResourceDisplay","_ref","subtopicId","resources","setResources","useState","loading","setLoading","error","setError","useEffect","async","fetchedResources","AppwriteService","getResourcesBySubtopic","err","console","fetchResources","handleResourceClick","resource","fileId","fileUrl","getFileView","window","open","_jsx","className","children","length","questions","filter","r","resourceType","answers","references","videos","_jsxs","map","onClick","title","SubtopicPage","useParams","subtopic","setSubtopic","topic","setTopic","fetchedTopic","fetchedSubtopic","Promise","all","getTopic","getSubtopic","fetchData","Link","to","config","endpoint","projectId","databaseId","bucketId","topicsCollectionId","subtopicsCollectionId","resourcesCollectionId","client","Client","setEndpoint","setProject","Databases","Storage","databases","storage","getTopics","listDocuments","documents","getDocument","createTopic","data","createDocument","ID","unique","getSubtopicsByTopic","Query","equal","createSubtopic","createResource","uploadFile","file","createFile","deleteFile","toString","migrateContent","stats","topics","failed","success","message","Error","migrateTopics"],"sourceRoot":""}