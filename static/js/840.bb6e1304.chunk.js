"use strict";(self.webpackChunkfresh_math_app=self.webpackChunkfresh_math_app||[]).push([[840],{4471:(e,t,a)=>{a.d(t,{A:()=>s});const s=[{$id:"number-systems",name:"Number Systems",slug:"number-systems",$collectionId:"topics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[],subtopics:[{$id:"ns-1",name:"Natural numbers, integers, primes, etc.",slug:"natural-numbers",topicId:"number-systems",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"ns-2",name:"Standard Form",slug:"standard-form",topicId:"number-systems",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"ns-3",name:"Common factors, HCF, LCM",slug:"common-factors",topicId:"number-systems",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"ns-4",name:"Four operations and brackets",slug:"four-operations",topicId:"number-systems",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"ns-5",name:"Surds and rationalization",slug:"surds",topicId:"number-systems",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"ns-6",name:"Decimals, fractions and percentages",slug:"decimals-fractions",topicId:"number-systems",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]}]},{$id:"algebraic-manipulation",name:"Algebraic Manipulation",slug:"algebraic-manipulation",$collectionId:"topics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[],subtopics:[{$id:"am-1",name:"Rules for exponents, Indices",slug:"exponents-indices",topicId:"algebraic-manipulation",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"am-2",name:"Expansion of brackets",slug:"expansion-brackets",topicId:"algebraic-manipulation",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"am-3",name:"Factorisation techniques",slug:"factorisation",topicId:"algebraic-manipulation",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]}]},{$id:"mensuration",name:"Mensuration",slug:"mensuration",$collectionId:"topics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[],subtopics:[{$id:"mns-1",name:"Units of Measurement",slug:"units-measurement",topicId:"mensuration",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"mns-2",name:"Perimeter and area of shapes",slug:"perimeter-area",topicId:"mensuration",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"mns-3",name:"Circle properties",slug:"circle-properties",topicId:"mensuration",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]}]},{$id:"linear-patterns",name:"Linear Patterns and Models",slug:"linear-patterns",$collectionId:"topics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[],subtopics:[{$id:"lpm-1",name:"Linear equations",slug:"linear-equations",topicId:"linear-patterns",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"lpm-2",name:"Inequalities",slug:"inequalities",topicId:"linear-patterns",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"lpm-3",name:"Linear functions",slug:"linear-functions",topicId:"linear-patterns",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"lpm-4",name:"Simultaneous equations",slug:"simultaneous-equations",topicId:"linear-patterns",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]}]},{$id:"angles",name:"Angles",slug:"angles",$collectionId:"topics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[],subtopics:[{$id:"ang-1",name:"Geometric terms and vocabulary",slug:"geometric-terms",topicId:"angles",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"ang-2",name:"Measuring and drawing angles",slug:"measuring-angles",topicId:"angles",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"ang-3",name:"Angle relationships",slug:"angle-relationships",topicId:"angles",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"ang-4",name:"Pythagoras Theorem",slug:"pythagoras-theorem",topicId:"angles",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]}]},{$id:"trigonometry",name:"Trigonometry",slug:"trigonometry",$collectionId:"topics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[],subtopics:[{$id:"trig-1",name:"Right-angled Trigonometry",slug:"right-angled-trigonometry",topicId:"trigonometry",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"trig-2",name:"Angles of elevation and depression",slug:"angles-elevation-depression",topicId:"trigonometry",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]},{$id:"trig-3",name:"Periodic Functions",slug:"periodic-functions",topicId:"trigonometry",$collectionId:"subtopics",$databaseId:"database",$createdAt:(new Date).toISOString(),$updatedAt:(new Date).toISOString(),$permissions:[]}]}]},8765:(e,t,a)=>{a.d(t,{k:()=>u});var s=a(5460);const i={endpoint:"https://cloud.appwrite.io/v1",projectId:"67eff58c0026f452ff3d",databaseId:"67f158d4000cb981963",bucketId:"67f03c12001381e227aa",topicsCollectionId:"67f158f50030e9e503ea",subtopicsCollectionId:"67f159150030e9e503eb",resourcesCollectionId:"67f159550030e9e503e9"},o=(new s.Kj).setEndpoint(i.endpoint).setProject(i.projectId),r=(new s.Lv(o),new s.wc(o),i);var n=a(4471);const c=(new s.Kj).setEndpoint(r.endpoint).setProject(r.projectId),d=new s.Lv(c),l=new s.wc(c),u={async getTopics(){try{return(await d.listDocuments(r.databaseId,r.topicsCollectionId)).documents}catch(e){throw console.error("Error fetching topics:",e),e}},async getTopic(e){try{return await d.getDocument(r.databaseId,r.topicsCollectionId,e)}catch(t){throw console.error("Error fetching topic:",t),t}},async createTopic(e){try{return await d.createDocument(r.databaseId,r.topicsCollectionId,s.ID.unique(),e)}catch(t){throw console.error("Error creating topic:",t),t}},async getSubtopicsByTopic(e){try{return(await d.listDocuments(r.databaseId,r.subtopicsCollectionId,[s.XK.equal("topicId",e)])).documents}catch(t){throw console.error("Error fetching subtopics:",t),t}},async getSubtopic(e){try{return await d.getDocument(r.databaseId,r.subtopicsCollectionId,e)}catch(t){throw console.error("Error fetching subtopic:",t),t}},async createSubtopic(e){try{return await d.createDocument(r.databaseId,r.subtopicsCollectionId,s.ID.unique(),e)}catch(t){throw console.error("Error creating subtopic:",t),t}},async getResourcesBySubtopic(e){try{return(await d.listDocuments(r.databaseId,r.resourcesCollectionId,[s.XK.equal("subtopicId",e)])).documents}catch(t){throw console.error("Error fetching resources:",t),t}},async createResource(e){try{return await d.createDocument(r.databaseId,r.resourcesCollectionId,s.ID.unique(),e)}catch(t){throw console.error("Error creating resource:",t),t}},async uploadFile(e){try{return(await l.createFile(r.bucketId,s.ID.unique(),e)).$id}catch(t){throw console.error("Error uploading file:",t),t}},async deleteFile(e){try{await l.deleteFile(r.bucketId,e)}catch(t){throw console.error("Error deleting file:",t),t}},getFileView:e=>l.getFileView(r.bucketId,e).toString(),async migrateContent(){try{return await async function(){const e={topics:0,subtopics:0,resources:0,failed:0};try{for(const a of n.A)try{if(await u.createTopic({name:a.name,slug:a.slug}),e.topics++,a.subtopics)for(const s of a.subtopics)try{await u.createSubtopic({name:s.name,slug:s.slug,topicId:a.$id}),e.subtopics++}catch(t){console.error(`Failed to create subtopic ${s.name}:`,t),e.failed++}}catch(t){console.error(`Failed to create topic ${a.name}:`,t),e.failed++}return{success:!0,message:"Migration completed successfully",stats:e}}catch(t){return console.error("Migration failed:",t),{success:!1,message:t instanceof Error?t.message:"Migration failed",stats:e}}}()}catch(e){return console.error("Migration failed:",e),{success:!1,message:e instanceof Error?e.message:"Migration failed",stats:{topics:0,subtopics:0,resources:0,failed:1}}}}}},9840:(e,t,a)=>{a.r(t),a.d(t,{AdminDashboard:()=>r,default:()=>n});var s=a(5043),i=a(8765),o=a(579);const r=()=>{const[e,t]=(0,s.useState)([]),[a,r]=(0,s.useState)(""),[n,c]=(0,s.useState)([]),[d,l]=(0,s.useState)(""),[u,p]=(0,s.useState)(""),[m,g]=(0,s.useState)(!0),[b,$]=(0,s.useState)(null),[I,S]=(0,s.useState)(null);(0,s.useEffect)((()=>{h()}),[]),(0,s.useEffect)((()=>{a?w(a):c([])}),[a]);const h=async()=>{try{g(!0);const e=await i.k.getTopics();t(e),$(null)}catch(e){console.error("Error fetching topics:",e),$("Failed to load topics. Please try again later.")}finally{g(!1)}},w=async e=>{try{const t=await i.k.getSubtopicsByTopic(e);c(t),$(null)}catch(t){console.error("Error fetching subtopics:",t),$("Failed to load subtopics. Please try again later.")}},y=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");return m&&0===e.length?(0,o.jsx)("div",{className:"flex justify-center items-center h-48",children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,o.jsxs)("div",{className:"space-y-8",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Admin Dashboard"}),b&&(0,o.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded mb-6",children:b})]}),(0,o.jsxs)("div",{className:"grid gap-8 md:grid-cols-2",children:[(0,o.jsxs)("section",{className:"space-y-6",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Topic"}),(0,o.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d.trim())try{g(!0),await i.k.createTopic({name:d.trim(),slug:y(d)}),l(""),await h(),$(null)}catch(t){console.error("Error creating topic:",t),$("Failed to create topic. Please try again later.")}finally{g(!1)}},className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"topicName",className:"block text-sm font-medium text-gray-700",children:"Topic Name"}),(0,o.jsx)("input",{type:"text",id:"topicName",value:d,onChange:e=>l(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter topic name",required:!0})]}),(0,o.jsx)("button",{type:"submit",disabled:m,className:"w-full px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:m?"Creating...":"Create Topic"})]})]}),(0,o.jsxs)("section",{className:"space-y-6",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Subtopic"}),(0,o.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),u.trim()&&a)try{g(!0),await i.k.createSubtopic({name:u.trim(),slug:y(u),topicId:a}),p(""),await w(a),$(null)}catch(t){console.error("Error creating subtopic:",t),$("Failed to create subtopic. Please try again later.")}finally{g(!1)}},className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"topicSelect",className:"block text-sm font-medium text-gray-700",children:"Select Topic"}),(0,o.jsxs)("select",{id:"topicSelect",value:a,onChange:e=>r(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:[(0,o.jsx)("option",{value:"",children:"Select a topic"}),e.map((e=>(0,o.jsx)("option",{value:e.$id,children:e.name},e.$id)))]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"subtopicName",className:"block text-sm font-medium text-gray-700",children:"Subtopic Name"}),(0,o.jsx)("input",{type:"text",id:"subtopicName",value:u,onChange:e=>p(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter subtopic name",required:!0})]}),(0,o.jsx)("button",{type:"submit",disabled:m||!a,className:"w-full px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:m?"Creating...":"Create Subtopic"})]})]})]}),a&&(0,o.jsxs)("section",{className:"space-y-4",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Current Subtopics"}),0===n.length?(0,o.jsx)("p",{className:"text-gray-600",children:"No subtopics available for this topic yet."}):(0,o.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:n.map((e=>(0,o.jsx)("div",{className:"p-4 bg-white rounded-lg shadow border border-gray-200",children:(0,o.jsx)("h3",{className:"font-medium text-gray-900",children:e.name})},e.$id)))})]}),(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Content Migration"}),(0,o.jsx)("button",{onClick:async()=>{try{g(!0);const e=await i.k.migrateContent();S(e)}catch(b){console.error("Migration failed:",b),S({success:!1,message:b instanceof Error?b.message:"Migration failed",stats:{topics:0,subtopics:0,resources:0,failed:1}})}finally{g(!1)}},disabled:m,className:`px-4 py-2 rounded ${m?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"} text-white font-medium transition-colors`,children:m?"Migrating...":"Start Migration"}),I&&(0,o.jsxs)("div",{className:"mt-4 p-4 rounded "+(I.success?"bg-green-50":"bg-red-50"),children:[(0,o.jsx)("p",{className:"font-medium "+(I.success?"text-green-800":"text-red-800"),children:I.success?"Success!":"Error"}),(0,o.jsx)("p",{className:"text-gray-600 mt-1",children:I.message}),I.stats&&(0,o.jsxs)("div",{className:"mt-2",children:[(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"Migration Stats:"}),(0,o.jsxs)("ul",{className:"list-disc list-inside mt-1 text-sm text-gray-600",children:[(0,o.jsxs)("li",{children:["Topics: ",I.stats.topics]}),(0,o.jsxs)("li",{children:["Subtopics: ",I.stats.subtopics]}),(0,o.jsxs)("li",{children:["Resources: ",I.stats.resources]}),(0,o.jsxs)("li",{children:["Failed: ",I.stats.failed]})]})]})]})]})]})},n=r}}]);
//# sourceMappingURL=840.bb6e1304.chunk.js.map